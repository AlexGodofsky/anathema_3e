<?xml version="1.0"?>
<project name="Build Core">

	<property name="coreDir" value="core" />

	<import file="compile.xml" />
	<import file="copy_core.xml" />

	<target name="Build Core JAR" depends="Copy Core Projects, Copy Core Thirdparty, Compile, Add Version Data" description="Build the main JAR file">
		<jar destfile="${dist}/anathema.jar">
			<manifest>
				<attribute name="Built-By" value="${user.name}" />
				<attribute name="Main-Class" value="net.sf.anathema.Anathema" />
				<attribute name="Class-Path" value="${lib}/dom4j-1.5.jar ${lib}/xalan.jar ${lib}/xercesImpl-2.6.2.jar ${lib}/xml-apis-2.0.2.jar ${lib}/xml-apis-dom3.jar ${lib}/disy-commons-swing-layout.jar ${lib}/disy-commons-core.jar ${lib}/disy-commons-swing.jar ${lib}/disy-commons-swing-dialog.jar ${lib}/batik-awt-util.jar ${lib}/batik-bridge.jar ${lib}/batik-css.jar ${lib}/batik-dom.jar ${lib}/batik-ext.jar ${lib}/batik-gvt.jar ${lib}/batik-parser.jar ${lib}/batik-svg-dom.jar ${lib}/batik-swing.jar ${lib}/batik-util.jar ${lib}/batik-xml.jar ${lib}/itext-1.4.jar ${lib}/jasperreports-0.6.2.jar ${lib}/commons-beanutils-1.5.jar ${lib}/commons-collections-3.1.jar ${lib}/commons-digester-1.3.jar ${lib}/commons-io.jar ${lib}/commons-logging-1.0.2.jar ${lib}/commons-logging-api-1.0.2.jar ${lib}/l2fprod-common-tasks.jar ${lib}/l2fprod-common-directorychooser.jar ${lib}/itp-gpl-1.3.0.jar ${modulesDir}/music.jar" />
				<section name="net/sf/anathema/Anathema.class" />
			</manifest>
			<fileset dir="${dist_class}" includes="**/*" excludes="**/${musicDir}/**/*" />
			<fileset dir="${dist}/${coreDir}/${resourceDir}" includes="**/*" />
		</jar>
	</target>
</project>