<?xml version="1.0" encoding="iso-8859-1"?>
<project name="Build raw" default="Distribute ZIP">

	<import file="build_core_plugin.xml" />
	<import file="build_namegenerator_plugin.xml" />
	<import file="build_character_plugin.xml" />
	<import file="build_plot_plugin.xml" />
	<import file="build_music_plugin.xml" />
	
	<property name="dist_misc_spanish" value="${files.dir}/doc/spanish" />
	<property name="documentation" value="../Development_Documentation/Distribution" />
	
	<target name="Distribute ZIP" depends="Build Core JAR, Build Namegenerator JAR, Build Character JAR, Build Plot JAR, Build Music JAR, Copy Text, Copy Extras">
		<zip destfile="anathema_v${version.major}.{version.minor}.zip">
			<fileset dir="${build.dir}" includes="anathema.jar" />
			<fileset dir="${files.dir}" includes="*.*" />
			<zipfileset dir="${library.dir}" prefix="lib" includes="*" />
			<zipfileset dir="${dist_misc_spanish}/" prefix="doc/spanish" includes="*" />
		</zip>
	</target>

	<target name="Copy Text" depends="Prepare" description="Copy Anathema documentation files">
		<copy todir="${files.dir}">
			<fileset dir="${documentation}/English" includes="*.txt" />
		</copy>
		<copy todir="${dist_misc_spanish}">
			<fileset dir="${documentation}/Spanish" includes="*.txt" />
		</copy>
	</target>

	<target name="Copy Extras" depends="Prepare">
		<copy todir="${files.dir}" file="anathema.sh" />
	</target>
</project>