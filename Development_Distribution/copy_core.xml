<?xml version="1.0"?>
<project name="Copy Core">

	<import file="common_targets.xml" />
	<import file="common_variables.xml" />

	<target name="Copy Core Projects" depends="Prepare" description="Copy core project files">
		<copyProjectFiles project="Anathema" subdirectory="core" />
		<copyProjectFiles project="Campaign_Plot" subdirectory="core" />
		<copyProjectFiles project="Character_Abyssal" subdirectory="core" />
		<copyProjectFiles project="Character_Db" subdirectory="core" />
		<copyProjectFiles project="Character_Generic" subdirectory="core" />
		<copyProjectFiles project="Character_Generic_Framework" subdirectory="core" />
		<copyProjectFiles project="Character_Generic_Impl" subdirectory="core" />
		<copyProjectFiles project="Character_Library" subdirectory="core" />
		<copyProjectFiles project="Character_Lunar" subdirectory="core" />
		<copyProjectFiles project="Character_Main" subdirectory="core" />
		<copyProjectFiles project="Character_Main_Impl" subdirectory="core" />
		<copyProjectFiles project="Character_MeritsFlaws" subdirectory="core" />
		<copyProjectFiles project="Character_Intimacies" subdirectory="core" />
		<copyProjectFiles project="Character_Sidereal" subdirectory="core" />
		<copyProjectFiles project="Character_Solar" subdirectory="core" />
		<copyProjectFiles project="Charm_Cascades" subdirectory="core" />
		<copyProjectFiles project="Charm_Entry" subdirectory="core" />
		<copyProjectFiles project="Charm_Tree" subdirectory="core" />
		<copyProjectFiles project="Lib" subdirectory="core" />
		<copyProjectFiles project="Lib_Gui" subdirectory="core" />
		<copyProjectFiles project="Lib_Workflow" subdirectory="core" />
		<copyProjectFiles project="Namegenerator" subdirectory="core" />
		<copyProjectFiles project="Platform" subdirectory="core" />
	</target>

	<target name="Copy Core Thirdparty" depends="Prepare" description="Copy common third party packages">
		<copy todir="${dist_lib}/core">
			<fileset dir="../${thirdpartyDir}/Commons/">
				<include name="**/*.jar" />
			</fileset>
			<fileset dir="../${thirdpartyDir}/disy/">
				<include name="**/*.jar" />
			</fileset>
			<fileset dir="../${thirdpartyDir}/Reporting/">
				<include name="**/*.jar" />
			</fileset>
			<fileset dir="../${thirdpartyDir}/SVG/">
				<include name="**/*.jar" />
			</fileset>
			<fileset dir="../${thirdpartyDir}/Swing/">
				<include name="**/*.jar" />
			</fileset>
			<fileset dir="../${thirdpartyDir}/XML/">
				<include name="**/*.jar" />
			</fileset>
			<fileset dir="../${thirdpartyDir}/License/">
				<include name="**/*" />
			</fileset>
		</copy>
	</target>

	<target name="copyText" depends="Prepare" description="Copy Anathema documentation files">
		<copy todir="${dist_misc}">
			<fileset dir="${documentation}/English" includes="*.txt" />
		</copy>
		<copy todir="${dist_misc_spanish}">
			<fileset dir="${documentation}/Spanish" includes="*.txt" />
		</copy>
	</target>

	<target name="copyExtras" depends="Prepare" description="Copy Anathema icon">
		<copy todir="${dist_misc}" file="anathema.ico" />
		<copy todir="${dist_misc}" file="anathema.sh" />
	</target>

	<target name="copyNatureExample" depends="Prepare" description="Copy example nature files">
		<copy todir="${dist_data}">
			<fileset dir="${documentation}/English/data" includes="*.txt" />
			<fileset dir="${documentation}/Spanish/data" includes="*.txt" />
		</copy>
	</target>

	<target name="copyModulesInstructions" depends="Prepare" description="Copy modules instruction file">
		<copy todir="${dist_modules}">
			<fileset dir="${documentation}/English/${modulesDir}" includes="*.txt" />
		</copy>
	</target>

	<target name="Add Version Data" depends="Copy Core Projects" description="Add version information to About.properties">
		<propertyfile file="${dist}/core/${resources}/language/About.properties">
			<entry key="Anathema.Version.Numeric" value="${version}" />
			<entry key="Anathema.Version.Title" value="${name}" />
			<entry  key="Anathema.Version.Built" type="date" value="now" pattern="MM/dd/yy"/>
		</propertyfile>
	</target>
</project>